# üìå –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è —Å–ª—É—à–∞—Ç–µ–ª–µ–π –ø–æ—Å–ª–µ —É—Ä–æ–∫–∞ ‚Äú–ê–ª–∏—Å–∞ –≤ –º–∏—Ä–µ –æ–±–ª–∞–∫–æ–≤‚Äù

üéØ **–¶–µ–ª—å**: –∑–∞–∫—Ä–µ–ø–∏—Ç—å –Ω–∞–≤—ã–∫–∏ —Ä–∞–±–æ—Ç—ã —Å Terraform –∏ Ansible, –Ω–∞—É—á–∏—Ç—å—Å—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—Ç—å –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –æ–±–ª–∞—á–Ω—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.

---

## üîπ –ß–∞—Å—Ç—å 1: Terraform ‚Äì —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

üìå **–ó–∞–¥–∞–Ω–∏–µ**:

  1. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –≤ –æ–±–ª–∞–∫–µ —Å –ø–æ–º–æ—â—å—é Terraform
  2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (variables.tf) –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.
  3. –í—ã–≤–µ–¥–∏—Ç–µ –≤ outputs.tf IP-–∞–¥—Ä–µ—Å —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

üìú **–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–æ–≤ Terraform**:

```sh
terraform_project/
‚îÇ‚îÄ‚îÄ main.tf         # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ Terraform
‚îÇ‚îÄ‚îÄ variables.tf    # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
‚îÇ‚îÄ‚îÄ outputs.tf      # –í—ã–≤–æ–¥ IP-–∞–¥—Ä–µ—Å–æ–≤
‚îÇ‚îÄ‚îÄ terraform.tfvars # –ó–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
```

üí° **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –≤–æ–ø—Ä–æ—Å**:

- –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –≤—Ä—É—á–Ω—É—é —É–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä, —Å–æ–∑–¥–∞–Ω–Ω—ã–π Terraform? –ö–∞–∫ Terraform —É–∑–Ω–∞–µ—Ç –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏?

---

## üîπ –ß–∞—Å—Ç—å 2: Ansible ‚Äì –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

üìå **–ó–∞–¥–∞–Ω–∏–µ**:

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–æ–∑–¥–∞–Ω–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ Ansible.
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É Nginx –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å –ø–æ–º–æ—â—å—é ansible-playbook, –∏—Å–ø–æ–ª—å–∑—É—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Nginx.
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä (curl <http://your-server-ip>).

üìú **–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–æ–≤ Ansible**:

```sh
ansible_project/
‚îÇ‚îÄ‚îÄ inventory.ini   # –§–∞–π–ª —Å —Å–µ—Ä–≤–µ—Ä–∞–º–∏
‚îÇ‚îÄ‚îÄ install_nginx.yml # Playbook –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Nginx
```

üí° **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –≤–æ–ø—Ä–æ—Å**:

- –ö–∞–∫ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã Ansible –º–æ–≥ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏ —Å—Ä–∞–∑—É?

---

## üîπ –ß–∞—Å—Ç—å 3: –§–∏–Ω–∞–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ (–±–æ–Ω—É—Å)

üîπ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å**:

- –ü–æ—Å–ª–µ terraform apply Ansible –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä
- –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Terraform provisioner –∏–ª–∏ Ansible pull

---

## üìå –ö–∞–∫ —Å–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ?

- –í—ã–ª–æ–∂–∏—Ç–µ –∫–æ–¥ –Ω–∞ GitHub
- –û–ø–∏—à–∏—Ç–µ –≤ README.md
- –î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã —Ä–∞–±–æ—Ç—ã Terraform –∏ Ansible

üëâ **–ö—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç –±–æ–Ω—É—Å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Äì –ø–æ–ª—É—á–∏—Ç +1 –∫ –∫–∞—Ä–º–µ!**

---
---

## üìå –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∑–∞–¥–∞–Ω–∏—è –ø–æ Terraform –∏ Ansible

üéØ **–¶–µ–ª—å**: –¥–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ, –Ω–æ –ø–æ–ª–µ–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Å–ª—É—à–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –≥–ª—É–±–∂–µ –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é DevOps.

---

## üîπ –ó–∞–¥–∞–Ω–∏–µ 1: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Terraform

üí° **–ò–¥–µ—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Terraform-–º–æ–¥—É–ª–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è N —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ.

üìå **–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å**?

1. –°–æ–∑–¥–∞—Ç—å Terraform-–º–æ–¥—É–ª—å –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é count, —á—Ç–æ–±—ã Terraform –º–æ–≥ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π.
3. –í—ã–≤–µ—Å—Ç–∏ –≤ outputs.tf –≤—Å–µ IP-–∞–¥—Ä–µ—Å–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –º–∞—à–∏–Ω.

üìú **–ü—Ä–∏–º–µ—Ä main.tf**:

```hcl
module "web_servers" {
  source     = "./modules/server"
  count      = 3
  name       = "web-${count.index}"
  image_id   = var.image_id
  preset_id  = var.preset_id
  project_id = var.project_id
}
```

‚úÖ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:

–ü–æ—Å–ª–µ terraform apply –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ 3 —Å–µ—Ä–≤–µ—Ä–∞ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –∏ IP-–∞–¥—Ä–µ—Å–∞–º–∏.

üöÄ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ**:

- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–≥—Ä—É–∑–∫–∏, —á—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ç—Ä–∞—Ñ–∏–∫ –º–µ–∂–¥—É —ç—Ç–∏–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏.

---

## üîπ –ó–∞–¥–∞–Ω–∏–µ 2: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–µ–ø–ª–æ—è Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å Ansible

üí° **–ò–¥–µ—è**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É Docker + –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ.

üìå **–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å**?

1. –ù–∞–ø–∏—Å–∞—Ç—å Ansible playbook –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Docker –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Docker.
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å Nginx –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –∏—Å–ø–æ–ª—å–∑—É—è Ansible.
3. –°–¥–µ–ª–∞—Ç—å —ç—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑—É–µ–º—ã–º: —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –º–µ–Ω—è—Ç—å –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.

üìú **–ü—Ä–∏–º–µ—Ä docker_setup.yml**

```yaml
- name: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
  hosts: webservers
  become: true
  tasks:
    - name: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker
      apt:
        name: docker.io
        state: present

    - name: –ó–∞–ø—É—Å—Ç–∏—Ç—å Nginx-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
      docker_container:
        name: nginx
        image: nginx:latest
        state: started
        ports:
          - "80:80"
```

‚úÖ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:

–ü–æ—Å–ª–µ ansible-playbook docker_setup.yml –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å Nginx –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

üöÄ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ**:

- –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å Docker Compose —á–µ—Ä–µ–∑ Ansible.
- –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–≤–æ–π –æ–±—Ä–∞–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ Nginx.

---

## üîπ –ó–∞–¥–∞–Ω–∏–µ 3: CI/CD –¥–ª—è Kubernetes —Å Terraform –∏ Ansible

üí° **–ò–¥–µ—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GitHub Actions (–∏–ª–∏ GitLab CI/CD) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –¥–µ–ø–ª–æ—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Kubernetes.

üìå **–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?**

1. –°–æ–∑–¥–∞—Ç—å Terraform-–∫–æ–¥ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è K8s-–∫–ª–∞—Å—Ç–µ—Ä–∞ (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ k3s –∏–ª–∏ GKE/EKS/AKS).
2. –ù–∞–ø–∏—Å–∞—Ç—å Ansible playbook, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –∫–ª–∞—Å—Ç–µ—Ä.
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD-–ø–∞–π–ø–ª–∞–π–Ω, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç Terraform –∏ Ansible –ø–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

üìú **–ü—Ä–∏–º–µ—Ä .github/workflows/deploy.yml (GitHub Actions)**

```yaml
name: Deploy to Kubernetes

on:
  push:
    branches:
      - master

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
        uses: actions/checkout@v3

      - name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Terraform
        run: sudo apt-get install -y terraform

      - name: –ó–∞–ø—É—Å–∫ Terraform
        run: terraform apply -auto-approve

      - name: –ó–∞–ø—É—Å–∫ Ansible
        run: ansible-playbook -i inventory.ini deploy_app.yml
```

‚úÖ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:

–ü—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ –≤ master Terraform —Å–æ–∑–¥–∞—ë—Ç –∫–ª–∞—Å—Ç–µ—Ä, –∞ Ansible –¥–µ–ø–ª–æ–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –Ω–µ–≥–æ.

üöÄ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ**:

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Helm Charts –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω—ã—Ö –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤.
- –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ K8s HPA.
